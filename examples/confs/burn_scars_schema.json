{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
      "seed_everything": {
        "type": "integer"
      },
      "trainer": {
        "type": "object",
        "properties": {
          "accelerator": {
            "type": "string"
          },
          "strategy": {
            "type": "string"
          },
          "devices": {
            "type": "string"
          },
          "num_nodes": {
            "type": "integer"
          },
          "precision": {
            "type": "string"
          },
          "logger": {
            "type": "object",
            "properties": {
              "class_path": {
                "type": "string"
              },
              "init_args": {
                "type": "object",
                "properties": {
                  "save_dir": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                },
                "required": [
                  "save_dir",
                  "name"
                ]
              }
            },
            "required": [
              "class_path",
              "init_args"
            ]
          },
          "callbacks": {
            "type": "array",
            "items": [
              {
                "type": "object",
                "properties": {
                  "class_path": {
                    "type": "string"
                  }
                },
                "required": [
                  "class_path"
                ]
              },
              {
                "type": "object",
                "properties": {
                  "class_path": {
                    "type": "string"
                  },
                  "init_args": {
                    "type": "object",
                    "properties": {
                      "logging_interval": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "logging_interval"
                    ]
                  }
                },
                "required": [
                  "class_path",
                  "init_args"
                ]
              },
              {
                "type": "object",
                "properties": {
                  "class_path": {
                    "type": "string"
                  },
                  "init_args": {
                    "type": "object",
                    "properties": {
                      "monitor": {
                        "type": "string"
                      },
                      "patience": {
                        "type": "integer"
                      }
                    },
                    "required": [
                      "monitor",
                      "patience"
                    ]
                  }
                },
                "required": [
                  "class_path",
                  "init_args"
                ]
              }
            ]
          },
          "max_epochs": {
            "type": "integer"
          },
          "check_val_every_n_epoch": {
            "type": "integer"
          },
          "log_every_n_steps": {
            "type": "integer"
          },
          "enable_checkpointing": {
            "type": "boolean"
          },
          "default_root_dir": {
            "type": "string"
          }
        },
        "required": [
          "accelerator",
          "strategy",
          "devices",
          "num_nodes",
          "precision",
          "logger",
          "callbacks",
          "max_epochs",
          "check_val_every_n_epoch",
          "log_every_n_steps",
          "enable_checkpointing",
          "default_root_dir"
        ]
      },
      "data": {
        "type": "object",
        "properties": {
          "class_path": {
            "type": "string"
          },
          "init_args": {
            "type": "object",
            "properties": {
              "batch_size": {
                "type": "integer"
              },
              "num_workers": {
                "type": "integer"
              },
              "dataset_bands": {
                "type": "array",
                "items": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "output_bands": {
                "type": "array",
                "items": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "rgb_indices": {
                "type": "array",
                "items": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "integer"
                  }
                ]
              },
              "train_transform": {
                "type": "array",
                "items": [
                  {
                    "type": "object",
                    "properties": {
                      "class_path": {
                        "type": "string"
                      },
                      "init_args": {
                        "type": "object",
                        "properties": {
                          "height": {
                            "type": "integer"
                          },
                          "width": {
                            "type": "integer"
                          }
                        },
                        "required": [
                          "height",
                          "width"
                        ]
                      }
                    },
                    "required": [
                      "class_path",
                      "init_args"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "class_path": {
                        "type": "string"
                      },
                      "init_args": {
                        "type": "object",
                        "properties": {
                          "p": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "p"
                        ]
                      }
                    },
                    "required": [
                      "class_path",
                      "init_args"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "class_path": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "class_path"
                    ]
                  }
                ]
              },
              "no_data_replace": {
                "type": "integer"
              },
              "no_label_replace": {
                "type": "integer"
              },
              "train_data_root": {
                "type": "string"
              },
              "train_label_data_root": {
                "type": "string"
              },
              "val_data_root": {
                "type": "string"
              },
              "val_label_data_root": {
                "type": "string"
              },
              "test_data_root": {
                "type": "string"
              },
              "test_label_data_root": {
                "type": "string"
              },
              "img_grep": {
                "type": "string"
              },
              "label_grep": {
                "type": "string"
              },
              "means": {
                "type": "array",
                "items": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ]
              },
              "stds": {
                "type": "array",
                "items": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ]
              },
              "num_classes": {
                "type": "integer"
              }
            },
            "required": [
              "batch_size",
              "num_workers",
              "dataset_bands",
              "output_bands",
              "rgb_indices",
              "train_transform",
              "no_data_replace",
              "no_label_replace",
              "train_data_root",
              "train_label_data_root",
              "val_data_root",
              "val_label_data_root",
              "test_data_root",
              "test_label_data_root",
              "img_grep",
              "label_grep",
              "means",
              "stds",
              "num_classes"
            ]
          }
        },
        "required": [
          "class_path",
          "init_args"
        ]
      },
      "model": {
        "type": "object",
        "properties": {
          "class_path": {
            "type": "string"
          },
          "init_args": {
            "type": "object",
            "properties": {
              "model_args": {
                "type": "object",
                "properties": {
                  "decoder": {
                    "type": "string"
                  },
                  "pretrained": {
                    "type": "boolean"
                  },
                  "backbone": {
                    "type": "string"
                  },
                  "decoder_channels": {
                    "type": "integer"
                  },
                  "in_channels": {
                    "type": "integer"
                  },
                  "bands": {
                    "type": "array",
                    "items": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string"
                      },
                      {
                        "type": "string"
                      },
                      {
                        "type": "string"
                      },
                      {
                        "type": "string"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "num_frames": {
                    "type": "integer"
                  },
                  "num_classes": {
                    "type": "integer"
                  },
                  "head_dropout": {
                    "type": "number"
                  },
                  "decoder_num_convs": {
                    "type": "integer"
                  },
                  "head_channel_list": {
                    "type": "array",
                    "items": [
                      {
                        "type": "integer"
                      }
                    ]
                  }
                },
                "required": [
                  "decoder",
                  "pretrained",
                  "backbone",
                  "decoder_channels",
                  "in_channels",
                  "bands",
                  "num_frames",
                  "num_classes",
                  "head_dropout",
                  "decoder_num_convs",
                  "head_channel_list"
                ]
              },
              "loss": {
                "type": "string"
              },
              "plot_on_val": {
                "type": "integer"
              },
              "ignore_index": {
                "type": "integer"
              },
              "freeze_backbone": {
                "type": "boolean"
              },
              "freeze_decoder": {
                "type": "boolean"
              },
              "model_factory": {
                "type": "string"
              },
              "tiled_inference_parameters": {
                "type": "object",
                "properties": {
                  "h_crop": {
                    "type": "integer"
                  },
                  "h_stride": {
                    "type": "integer"
                  },
                  "w_crop": {
                    "type": "integer"
                  },
                  "w_stride": {
                    "type": "integer"
                  },
                  "average_patches": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "h_crop",
                  "h_stride",
                  "w_crop",
                  "w_stride",
                  "average_patches"
                ]
              }
            },
            "required": [
              "model_args",
              "loss",
              "plot_on_val",
              "ignore_index",
              "freeze_backbone",
              "freeze_decoder",
              "model_factory",
              "tiled_inference_parameters"
            ]
          }
        },
        "required": [
          "class_path",
          "init_args"
        ]
      },
      "optimizer": {
        "type": "object",
        "properties": {
          "class_path": {
            "type": "string"
          },
          "init_args": {
            "type": "object",
            "properties": {
              "lr": {
                "type": "number"
              },
              "weight_decay": {
                "type": "number"
              }
            },
            "required": [
              "lr",
              "weight_decay"
            ]
          }
        },
        "required": [
          "class_path",
          "init_args"
        ]
      },
      "lr_scheduler": {
        "type": "object",
        "properties": {
          "class_path": {
            "type": "string"
          },
          "init_args": {
            "type": "object",
            "properties": {
              "monitor": {
                "type": "string"
              }
            },
            "required": [
              "monitor"
            ]
          }
        },
        "required": [
          "class_path",
          "init_args"
        ]
      }
    },
    "required": [
      "seed_everything",
      "trainer",
      "data",
      "model",
      "optimizer",
      "lr_scheduler"
    ]
  }
  
  